# Add tag to Main and create Release in GitHub.com
name: tag-release
run-name: Tag and Release üöÄ

on:
  workflow_call:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
# permissions:
#  contents: read

jobs:
  # Build static site using Reveal-MD
  # if branch = main
  tag:
    name: Tag
    timeout-minutes: 10
    runs-on: ubuntu-latest
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Install GitVersion
        uses: gittools/actions/gitversion/setup@latest
        with:
          versionSpec: '5.x'
      - name: Determine Version
        uses: gittools/actions/gitversion/execute@latest
      - name: Display SemVer
        run: |
          echo "SemVer: $GITVERSION_SEMVER" && echo "$version" && echo "$major.$minor.$patch"
          echo "SemVer-Short: $GITVERSION_SEMVER"

#      - name: Create tag
#        uses: actions/github-script@v6
#        with:
#          script: |
#            github.rest.git.createRef({
#              owner: context.repo.owner,
#              repo: context.repo.repo,
#              ref: 'refs/tags/<tagname>',
#              sha: context.sha
#            })
      